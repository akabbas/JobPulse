<!-- üéØ Complete Source Filter - ALL 22 Job Sources -->
<div class="source-filter-section">
    <h3>üéØ Filter by Source</h3>
    <p class="text-muted">Select which job sources to include in your search. All sources are checked by default for maximum coverage.</p>
    
    <div class="source-categories">
        <!-- üöÄ Live APIs & High Reliability -->
        <div class="source-category">
            <h4>üöÄ Live APIs (High Reliability)</h4>
            <div class="source-checkboxes">
                <label class="source-checkbox">
                    <input type="checkbox" value="api_sources" checked>
                    <span class="checkmark"></span>
                    Remotive API
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="reddit" checked>
                    <span class="checkmark"></span>
                    Reddit Jobs
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="hackernews" checked>
                    <span class="checkmark"></span>
                    Hacker News
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="authentic_jobs" checked>
                    <span class="checkmark"></span>
                    Authentic Jobs
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="jobspresso" checked>
                    <span class="checkmark"></span>
                    Jobspresso
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="himalayas" checked>
                    <span class="checkmark"></span>
                    Himalayas
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="yc_jobs" checked>
                    <span class="checkmark"></span>
                    YC Jobs
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="otta" checked>
                    <span class="checkmark"></span>
                    Otta
                </label>
            </div>
        </div>
        
        <!-- üîç Enhanced Scraping (Playwright) -->
        <div class="source-category">
            <h4>üîç Enhanced Scraping (Playwright)</h4>
            <div class="source-checkboxes">
                <label class="source-checkbox">
                    <input type="checkbox" value="greenhouse" checked>
                    <span class="checkmark"></span>
                    Greenhouse
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="lever" checked>
                    <span class="checkmark"></span>
                    Lever
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="dice" checked>
                    <span class="checkmark"></span>
                    Dice
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="stackoverflow" checked>
                    <span class="checkmark"></span>
                    Stack Overflow
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="indeed" checked>
                    <span class="checkmark"></span>
                    Indeed
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="linkedin" checked>
                    <span class="checkmark"></span>
                    LinkedIn
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="google_jobs" checked>
                    <span class="checkmark"></span>
                    Google Jobs
                </label>
            </div>
        </div>
        
        <!-- üåê Web Scraping (Traditional) -->
        <div class="source-category">
            <h4>üåê Web Scraping (Traditional)</h4>
            <div class="source-checkboxes">
                <label class="source-checkbox">
                    <input type="checkbox" value="remoteok" checked>
                    <span class="checkmark"></span>
                    Remote OK
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="weworkremotely" checked>
                    <span class="checkmark"></span>
                    WeWorkRemotely
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="glassdoor" checked>
                    <span class="checkmark"></span>
                    Glassdoor
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="simple_jobs" checked>
                    <span class="checkmark"></span>
                    Simple Jobs
                </label>
                <label class="source-checkbox">
                    <input type="checkbox" value="robust_scraper" checked>
                    <span class="checkmark"></span>
                    Robust Scraper
                </label>
            </div>
        </div>
    </div>
    
    <!-- Hidden input to store selected sources -->
    <input type="hidden" id="selectedSources" name="sources" value='["api_sources", "reddit", "hackernews", "authentic_jobs", "jobspresso", "himalayas", "yc_jobs", "otta", "greenhouse", "lever", "dice", "stackoverflow", "indeed", "linkedin", "google_jobs", "remoteok", "weworkremotely", "glassdoor", "simple_jobs", "robust_scraper"]'>
    
    <!-- Source Actions -->
    <div class="source-actions">
        <button type="button" class="glass-button secondary" onclick="selectAllSources()">Select All (22 Sources)</button>
        <button type="button" class="glass-button secondary" onclick="clearAllSources()">Clear All</button>
    </div>
    
    <!-- Source Statistics -->
    <div class="source-stats">
        <span class="stat-item">
            <span class="stat-number" id="sourceCount">22</span>
            <span class="stat-label">Sources Selected</span>
        </span>
        <span class="stat-item">
            <span class="stat-number" id="coverageType">Maximum</span>
            <span class="stat-label">Coverage</span>
        </span>
    </div>
</div>

<script>
// Function to select all sources
function selectAllSources() {
    const checkboxes = document.querySelectorAll('.source-checkbox input');
    checkboxes.forEach(checkbox => {
        checkbox.checked = true;
    });
    updateSelectedSources();
    updateSourceStats();
}

// Function to clear all sources
function clearAllSources() {
    const checkboxes = document.querySelectorAll('.source-checkbox input');
    checkboxes.forEach(checkbox => {
        checkbox.checked = false;
    });
    updateSelectedSources();
    updateSourceStats();
}

// Function to update selected sources
function updateSelectedSources() {
    const checkboxes = document.querySelectorAll('.source-checkbox input:checked');
    const selectedSources = Array.from(checkboxes).map(cb => cb.value);
    document.getElementById('selectedSources').value = JSON.stringify(selectedSources);
}

// Function to update source statistics
function updateSourceStats() {
    const checkboxes = document.querySelectorAll('.source-checkbox input:checked');
    const selectedCount = checkboxes.length;
    const totalSources = 22;
    
    document.getElementById('sourceCount').textContent = selectedCount;
    
    let coverageType = 'Maximum';
    if (selectedCount < totalSources * 0.3) {
        coverageType = 'Limited';
    } else if (selectedCount < totalSources * 0.7) {
        coverageType = 'Moderate';
    } else if (selectedCount < totalSources) {
        coverageType = 'High';
    }
    
    document.getElementById('coverageType').textContent = coverageType;
}

// Add event listeners to all checkboxes
document.addEventListener('DOMContentLoaded', function() {
    const checkboxes = document.querySelectorAll('.source-checkbox input');
    checkboxes.forEach(checkbox => {
        checkbox.addEventListener('change', function() {
            updateSelectedSources();
            updateSourceStats();
        });
    });
    
    // Initialize
    updateSelectedSources();
    updateSourceStats();
});
</script>
